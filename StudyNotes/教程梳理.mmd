[Scia Reto](https://sciareto.org) mind map   
> __version__=`1.1`,showJumps=`true`
---

# Root topic
> collapsed=`true`


## 课程介绍

## 开发环境搭建
> collapsed=`true`


### 特别的没有安装MonoDB Compass

## Demo运行和打包
> collapsed=`true`


### 要先编译代码再运行

### 状态同步Demo
> collapsed=`true`


#### GlobalConfig 设置AppType为Demo

#### 运行
> collapsed=`true`


##### 输入账号密码登录

##### 进入游戏后
> collapsed=`true`


###### 鼠标右键移动

###### 按 R 重载DLL

###### 按 T 进行地图传送

### 帧同步demo
> collapsed=`true`


#### AppType 选择LockStep

#### 运行
> collapsed=`true`


##### 输入账号密码登录

##### 登录成功自动切换到匹配状态
> collapsed=`true`


###### 点击match
> collapsed=`true`


####### 匹配完后进入游戏
> collapsed=`true`


######## WASD移动

###### 输入重播key

### 打包
> collapsed=`true`


#### ET/BuildTool打开打包窗口
> collapsed=`true`


##### 在这个窗口的CodeCompile部分，本质上只是对Global进行了修改

##### CodeMode
> collapsed=`true`


###### Client
> collapsed=`true`


####### 只当客户端

###### Server
> collapsed=`true`


####### 只当服务器

###### ClientServer
> collapsed=`true`


####### 同时当双端,这个模式应该只能是在编辑器下用

##### 选择完后要点击ReGenerateProjectFiles

#### HybridCLR
> collapsed=`true`


##### Install

##### GenerateAll

##### CopyAotDlls
> collapsed=`true`


###### 目标路径 Assets/Bundles/AotDlls

#### 打AB
> collapsed=`true`


##### StreamingAssets
> collapsed=`true`


###### 如果没有这个目录就创建

##### YooAsset/AssetBundleBuilder

##### 点击构建

#### 打最终包
> collapsed=`true`


##### 点击BuildEditor的BuildPackage

##### 生成完会生成在Release目录下

### 运行单独的服务器
> collapsed=`true`


#### Rider打开ET\.sln

#### 编译

#### 运行生成的DotNet\.App

## ECS组件式编程
> collapsed=`true`


### ET框架中的ECS编程原则
> collapsed=`true`


#### 实体即组件，组件即实体

#### 如果要编写一个新的实体或者组件，绝不继承除Entity之外的任何父类

#### 绝不使用任何的虚函数，使用逻辑分发替代

#### Model 和ModelView只存放实体和组建的额数据字段声明，如非必要绝不放任何逻辑函数

#### Hotfix和HotfixView中只保留纯逻辑函数，也就是使用静态类的拓展方法<br/>编写System,且绝不允许声明任何数据字段

#### Model和Hotfix项目绝不运行出现跟Unity引擎相关的游戏对象类和调用相关API函数

#### 如实体或者组件有数据字段声明，必须编写相关的声明周期函数<br/>以防实体对象池回收再利用导致逻辑错误

### 代码工程划分
> collapsed=`true`


#### AllHofix
> collapsed=`true`


##### 这个工程里面不能定义类，（类的定义放在AllModel里面）只能用拓展类

#### AllModel
> collapsed=`true`


##### Model不能包含任何引擎相关的代码

##### ModelView作为表现层，可以引用引擎相关代码

##### CodeMode选择决定Server或者Client目录是否会在Rider解决方案显示
> collapsed=`true`


###### Server目录

###### Client目录

###### Share目录

#### 代码的命名空间规定
> collapsed=`true`


##### 如果是在Server目录下，那就是ET\.Server

##### 如果在Client目录下，就是ET\.Client

##### 如果两端都要，就只用ET

### 相关Attribute
> collapsed=`true`


#### ComponentOf

#### ChildOf
> collapsed=`true`


##### 声明是什么类型的Entity的子Entity

#### EntitySystemOf
> collapsed=`true`


##### 声明是什么类型的Component的System

#### FriendOf
> collapsed=`true`


##### 要修改其它组件的属性，就要加这个属性

### AddChild
> collapsed=`true`


#### 用来添加子实体，可以添加任意个

### AddComponent
> collapsed=`true`


#### 同类型的组件只能挂一个

### System代码的编写
> collapsed=`true`


#### 代码放在AllHotfix里面

#### 里面还用了C\#的源代码生成器技术来自动生成使用System代码的代码
- LINK
<pre>https://learn.microsoft.com/zh-cn/dotnet/csharp/roslyn-sdk/source-generators-overview</pre>

#### 先定义System的EntitySystemOf之后，按Alt\+Enter生成component对应的生命周期函数

#### 如果要在System里面修改组件的属性，要加FriendOf

## 虚拟进程Fiber
> collapsed=`true`


### 先讲了Init的启动逻辑
> collapsed=`true`


#### Unity\.Loader项目的作为不能主包的代码不能热更，改了之后要重新生成HybridCLR

#### World类
> collapsed=`true`,fillColor=`#FF5600`


##### 作为单例的容器，用来添加各种非ECS模式的代码单例
> collapsed=`true`


###### Logger

###### TimeInfo

###### FiberManager
> collapsed=`true`,fillColor=`#00C8FF`


####### 本节的关键内容

####### Fiber
> collapsed=`true`,fillColor=`#00C8FF`


######## 本质上是一个类
> fillColor=`#00C8FF`


######## Root
> collapsed=`true`,fillColor=`#00C8FF`


######### 是某个Scene
> fillColor=`#00C8FF`


###### ResourceComponent
> collapsed=`true`


####### 资源加载

###### CodeLoader
> collapsed=`true`


####### 热更代码
> collapsed=`true`


######## Hotfix\.dll Model\.dll

######## Hotfix\.pdb,Model\.pdb

####### 热更完后会创建CodeTypes单例
> collapsed=`true`


######## CodeTypes\.Instance\.CreateCode\(\);<br/>会创建可以热重载的代码

####### 通过反射调用ET\.Entry\.Start的函数

### 为什么引入Fiber概念
> collapsed=`true`


#### 为了多线程性能利用

#### 利用多个核心，起多个主线程

#### 设计上规避了多个线程竞争同一个资源

#### EntitySystem驱动生命周期函数

#### Fiber的三种Update方式
> collapsed=`true`


##### Main
> collapsed=`true`


###### 主线程调度
> collapsed=`true`


####### 按顺序调用Fiber

##### Thread
> collapsed=`true`


###### 游戏进程（process\) 固定线程方式进行调度
> collapsed=`true`


####### 性能调试的时候用

###### 每个线程只调用一个fiber

##### ThreadPool
> collapsed=`true`


###### 游戏进程，线程池方式进行调度
> collapsed=`true`


####### 上线的时候用这种，最大性能

###### 同一个Fiber在不同的时间段被不同的线程调用

###### 同一个Fiber在同一时间只会被一个线程调用

## Scene层级关系
> collapsed=`true`


### 创建Fiber的时候会创建一个和Fiber相互引用的Scene

### Scene作为容器，可以挂载各种组件

### 也可以作为逻辑上下文

### EntityHelper 工具类
> collapsed=`true`


#### Entity\.Scene 获取最近的Scene

#### Entity\.Root获取根部的Scene
> collapsed=`true`


##### 这里就明确能知道Scene是可以和组件相互嵌套的

## 事件订阅和发布
> collapsed=`true`


### 事件的定义文件有好几个
> collapsed=`true`


#### Share/Demo/EventType\.cs
> collapsed=`true`


##### 文件放在Share目录下，命名空间确实ET\.Client<br/>只有前端用，为什么要放在Share目录

#### Server/Module/AOI/AOIEventType

#### LockStepEventType

#### MoveEventType

#### UnitEventType

### 事件的定义本质只是声明struct类型而已，只要在AllModel目录下<br/>选一个目录创建后缀为EventType的文件声明就行

### 事件的处理类都继承自AEvent
> collapsed=`true`


#### 第一个参数基本都是Scene,第二个是上面定义的事件结构体

#### 写好后Alt \+ Enter生成Run函数

#### 处理类要加Event Attribute类说明SceneType

### 抛出事件的两种方式
> collapsed=`true`


#### EventSystem\.Instance\.PublishAsync
> collapsed=`true`


##### 可以用await等待事件处理完

#### EventSystem\.Instance\.Publish\(\)
> collapsed=`true`


##### 同步方式，不会等事件处理完

## ETTask异步编程
> collapsed=`true`


### C\#的异步函数
> collapsed=`true`


#### async和await是C\#5\.0引入的关键字

### ETTask
> collapsed=`true`


#### 跟C\#自带的Task类有上面区别？

## 网络消息的定义
> collapsed=`true`


### ET 8\.0之前是用Protobuf

### 8\.0只会用MemoryPack
> collapsed=`true`

- LINK
<pre>https://github.com/Cysharp/MemoryPack</pre>

#### 消息定义还是用\.proto的格式

#### 用ET框架提供的Proto2CS工具来生成<br/>符合MemoryPack序列化格式的C\#代码对象
> collapsed=`true`


##### 项目代码在ET\.sln的的Share\.Tool目录

### Proto定义文件路径
> collapsed=`true`


#### Assets/Config/Proto

#### 文件分类
> collapsed=`true`


##### ClientMessage\_C
> collapsed=`true`


###### 客户端Fiber之间通讯

##### InnerMessage\_S
> collapsed=`true`


###### 服务器内部之间通信的协议

##### LockStepInner\_S
> collapsed=`true`


###### 帧同步服务端内部通信

##### LockStepOuter\_C
> collapsed=`true`


###### 帧同步客户端和服务端之间

##### OuterMessage\_c
> collapsed=`true`


###### 常规的客户端和服务端之间通信的协议

### proto文件语法
> collapsed=`true`


#### message开头表示一个协议体
> collapsed=`true`


##### message\+协议名\+空格\+//\+空格\+消息接口 
> collapsed=`true`


###### 注意空格一定要留

###### 例子：message C2R\_LoginAccount // ISessionRequest

###### 消息接口类型
> collapsed=`true`


####### ISessionRequest

####### ISessionResonse
> collapsed=`true`


######## 一定要有RpcId,Error,Message三个变量

##### 向上一行//ResonseType\+空格\+返回协议名来定义协议的返回协议类型

#### 等号 "=" 两边一定要留空格

### 生成协议
> collapsed=`true`


#### BuildEditor窗口Proto2CS按钮

#### 生成的协议在proto文件名对应的\.cs文件里面，并不是每个协议单独一个文件

#### 生成的代码也是分部类（partial\),也用了源代码生成器技术生成完整的类代码

## 服务端的连接流程
> collapsed=`true`


### 前置连接流程
> collapsed=`true`


#### SceneType
> collapsed=`true`


##### Assets/Config/Excel/StartConfig/Localhost/StartSceneConfig@s\.xlsx <br/>里面配置决定每个服务器的SceneType
> align=`left`,collapsed=`true`


###### StartSceneConfig页签
> collapsed=`true`


####### 每一行配置表示一个要创建一个虚拟进程（纤程Fiber\)

###### Router页签

#### 通信流程图
> collapsed=`true`

- FILE
<pre>StudyNotes/流程图/通信架构图.drawio</pre>

##### RouterManager服务器只在开发时存在，实际发布后由CDN缓存服务器代替

##### 里面包含的就是ET的软路由设计

#### 各种服务器的功能
> collapsed=`true`


##### Router
> collapsed=`true`


###### 中转客户端和游戏服务器事件的消息

##### Realm服务器
> collapsed=`true`


###### 就是网关负载均衡服务器，接收Router请求，分配合适的Gate服务器地址给Router

##### Gate服务器
> collapsed=`true`


###### 由Realm网关负载均衡服务器分配，和Router通信

###### 这种服务器上会创建玩家Unit映射实体
> collapsed=`true`


####### 但是不应该把业务逻辑都写在这个服务器，二应该在Map服务器上

##### Map服务器
> collapsed=`true`,fillColor=`#EDA3A3`


###### Gate网关服务器的映射实体传送到Map服务器后，<br/>后续所有的业务逻辑都由Map服务器上的Unit映射实体进行处理
> collapsed=`true`


####### 这里的传送的含义？

###### 可以理解为这个就是GameServer
> fillColor=`#EDA3A3`


##### Location定位服务器
> collapsed=`true`


###### 不管时Player映射实体，还是Unit实体，都会向<br/>Location服务器注册和更新ActorId（位置信息）

###### 简单来说这个就是用来查对应的玩家在哪个Map服务器？

## Actor模型与纤程通讯
> collapsed=`true`


### Unit映射对象实体
> collapsed=`true`


#### Unit之间怎么确定其它的Unit的具体位置
> collapsed=`true`


##### ActorId类
> collapsed=`true`


###### InstanceId
> collapsed=`true`


####### 用来定位具体的Actor邮箱

###### Address
> collapsed=`true`


####### Process
> collapsed=`true`


######## 进程

####### Fiber

###### 用来定位到具体的进程，具体纤程，具体Actor

### Actor模型
> collapsed=`true`


#### 每个Actor都由自己的状态，行为和邮箱

#### 消息传递
> collapsed=`true`


##### 通过邮箱传递

#### 无状态共享
> collapsed=`true`


##### 隔离性提供了安全的处理状态，不需要考虑多线程编程中的锁状态

#### 并发性
> collapsed=`true`


##### Actor可能会阻塞自己处理的逻辑，但是不会阻塞自己允许的线程<br/>所以多个Actor可以同时进行消息传递和消息事件处理

### 同一进程内的两个纤程通过消息队列来进行通讯
> collapsed=`true`


#### ProcessInnerSender（这个组件本质就是一个消息队列）

### 不同进程间通过NetInner Fiber进行网络通讯

## 登录流程
> collapsed=`true`


### 一
> collapsed=`true`


#### 演示设置
> collapsed=`true`


##### CodeMode改成ClientServer

##### AppType为Demo

#### 点击登录流程开始按钮
> collapsed=`true`


##### UILoginComponentSystem
> collapsed=`true`


###### 点击按钮调用LoginHelper\.Login
> collapsed=`true`


####### ClientSenderComponent

##### Main2NetClient\_LoginHandler
> collapsed=`true`


###### 所有的处理类都是用协议名\+Handler的约定

#### 这节基本就是讲 Main纤程到NetClient纤程的流程

### 二
> collapsed=`true`


#### Main2NetClient\_LoginHandler运行逻辑
> collapsed=`true`


##### RouterAddressComponent
> collapsed=`true`


###### 每次都会移除旧的创建一个新的组件实例

###### 返回从Realm服务器地址

##### 根据上面的Realm地址创建一个Session
> collapsed=`true`


###### NetComponent\.CreateRouterSession

##### Session发C2R\_Login后得到结果
> collapsed=`true`


###### 服务器C2R\_LoginHandler
> collapsed=`true`

- FILE
<pre>Unity/Assets/Scripts/Hotfix/Server/Demo/Realm/C2R_LoginHandler.cs</pre>

####### 随机分配一个Gate

##### 用上面返回的R2C\_Login创建GateSession
> collapsed=`true`


###### 添加SessionComponent

#### 这节讲了C2R和R2C的代码流程，没有加任何代码

### 三
> collapsed=`true`


#### 测试Studio 3T连接

#### 详解C2R\_LoginHandler逻辑
> collapsed=`true`


##### FiberInit\_Realm
> collapsed=`true`


###### 不同类型的SceneType都会写FiberInit\_xxx来处理FiberInit事件
> collapsed=`true`


####### 用Invoke方式调用，所以每个SceneType必须有处理类

###### 事件的Invoke和Publish的区别
> collapsed=`true`


####### Invoke必须又被调用方，Publish不需要

###### 添加DBManagerComponent组件

##### 根据Zone获取DBComponent
> collapsed=`true`


###### StartSceneConfig配置的Zone

##### 查询数据库有没有传过来的账号
> collapsed=`true`


###### 如果没有，那就用账号和密码创建一个，并且保存到数据库

###### 如果有，那就对比密码是否正确

###### 查询示意图
> mmd.image=`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`


#### 这节加入了Reaml数据库查询账号和创建账号逻辑，未运行代码

### 四
> collapsed=`true`


#### Main2NetClient\_LoginHandler 处理R2C\_Login
> collapsed=`true`


##### 有错误码，进行返回

#### 多个玩家使用同一个账号在同一时间进行<br/>登录注册，如何保证账号的一致性
> collapsed=`true`


##### 示意图
> mmd.image=`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`


##### 使用ET提供的协程锁
> collapsed=`true`


###### CoroutineLockComponent

###### 遇到协程锁，就会进行协程逻辑队列

#### 这一节主要加入协程锁保证多端同时登录注册的一致性

### 五
> collapsed=`true`


#### Realm服务器和Gate服务器连接，然后客户端尝试连接Gate
> collapsed=`true`


##### R2G\_GetLoginKey
> collapsed=`true`


###### 向Gate获取登录令牌

##### R2G\_GetLoginKeyHandler
> collapsed=`true`


###### GateSessionKeyComonent
> collapsed=`true`


####### FiberInit\_Gate的时候添加

####### 数据只是随机数和account之间的映射,记录玩家的登录key

###### 创建给账号添加一个20秒后会移除的SessionKey

##### Main2NetClient\_LoginHandler
> collapsed=`true`


###### 创建gateSession

###### C2G\_LoginGate
> collapsed=`true`


####### 客户端尝试登录到Gate服务器

##### C2G\_LoginGateHandler
> collapsed=`true`


###### MessgaSessionHandler和MessageHandler 的区别
> collapsed=`true`


####### SessionHandler固定了处理的实体是Session,也就是第一个参数

### 六
> collapsed=`true`


#### 细讲C2G\_LoginGateHandler
> collapsed=`true`


##### SessionKey合法的话，移除SessionAcceptTimeoutComponent组件
> collapsed=`true`


###### 这个组件的作用是防止外挂一直连续不发消息，也不进行权限验证

##### 用Account 向PlayerComponent查询
> collapsed=`true`


###### 如果不存在账号的Player（玩家映射实体）就创建
> collapsed=`true`


####### 添加Player实体
> collapsed=`true`


######## Player实体添加PlayerSessionComponent
> collapsed=`true`


######### 添加MailBoxComponent

######### 向Location服务器同步位置

######## 添加MailBoxComponent

####### Session也添加SessionPlayerComponent

####### Session 和 Player建立了相互映射的关系

###### 如果存在，就只是更新Session

#### 处理完打开Lobby UI
> collapsed=`true`


##### 点击进入按钮，就执行EnterMapAsync

##### C2G\_EnterMap
> collapsed=`true`


###### 这协议就是为了创建玩家Unit实体，并且传送到MapServer

### 七
> collapsed=`true`


#### EnterMapHelper\.EnterMapAsync
> collapsed=`true`


##### C2G\_EnterMap
> collapsed=`true`


###### C2G\_EnterMapHandler
> collapsed=`true`


####### GateMapComponent 添加到Player实体
> collapsed=`true`


######## 在Gate上动态创建一个Map Scene,把Unit从DB中加载方进来，<br/>然后传动到真正的Map中，这样登录跟传送的逻辑就完全一样了

######## 创建对应的Scene挂到这个组件下面
> collapsed=`true`


######### Scene有以下组件
> collapsed=`true`


########## UnitComponent

########## AOIMananerComponent

########## RoomManagerComponent

########## MailBoxComponent

######## 创建一个Unit到上面创建的Scene，并且从DB加载Unit数据

##### ObjectWait等待（Wait\_SceneChangeFinish事件

##### TransferHelper\.TransferAtFrameFinish
> collapsed=`true`


###### M2M\_UnitTransferRequest

#### 这要是进入Map并且把Unit进行传送的启动流程

### 八 客户端收到切换场景以及创建Unit实体后，打开游戏界面<br/>至此登录流程完成了
> collapsed=`true`


#### M2M\_UnitTransferRequestHandler
> collapsed=`true`


##### 处理从Gate网关服务器发送Unit映射实体数据，来传送到Map服务器上面

##### 从请求的协议数据反序列化出Unit实例

##### Unit挂到UnitComponent上

##### M2C\_StartSceneChange
> collapsed=`true`


###### 通知客户端开始切场景

###### SceneChangeHelper\.SceneChangeTo
> collapsed=`true`


####### 发 SceneChangeStart事件

####### ObjectWait等待 Wait\_CrateMyUnit

####### SceneChangeFinish

####### Wait\_SceneChangeFinish

##### M2C\_CreateMyUnit
> collapsed=`true`


###### 通知客户端创建MyUnit

###### UnitInfo 存储Unit的各种数据
> collapsed=`true`


####### 常用的属性是直接用字段平铺在UnitInfo类的

####### kv字段可以用来拓展记录各种业务键值对？

###### 客户端接收到后发Wait\_CrateMyUnit

## 实战系列

### 一

#### 8\.0升级8\.1 主要是编译方式改变，F6在Unity可以编译，<br/>如果在IDE编译 可以运行中按F6编译，F7进行热重载

#### 项目架构也有些变化

##### AllHotFix 和AllModel项目没有了

#### 协议也变了，好像重新搞了一遍登录流程，wth?

### 二

#### C2R\_LoginAccountHandler

##### SessionAcceptTimeoutComponent移除,用来防外挂的组件

### 三

#### 增加SceneType LoginCenter

#### StartSceneConfig 行前面加井号"\#"就等于把该<br/>行注释掉，生成就不会生效

#### 这节把StarSceneConfig的Realm配置挪到了新建sheet"公共服"

##### 这里说StartSceneConfig就相当于一区，而账号数据应该是跨区的<br/>而Realm我们是要用来做账号服务器的，所以应该划分为公共服

##### StartZoneConfig也要增加1000的账号登录区服

#### 继续补充C2RLoginAcccountHandler

##### 取Reaml区服的数据库接口查询账号，如果没有就创建

### 四

#### R2L\_LoginAccountRequest

##### L 就是上一节加的LoginCenter服务器

##### Unity/Assets/Scripts/Model/Generate/ClientServer/ConfigPartial/StartSceneConfig\.cs<br/>里面增加LoginCenterConfig，注意不只这个目录，需要用的ConfiPartial目录都得加上

##### AccountSessionComponent

###### 用来记录账号Session的组件，如果之前已经有对应的Account<br/>后面再登，就提示前面登的号被顶号

##### A2C\_Disconect

###### 告诉其它号被顶号登录了

#### AccountCheckOutTimeComponent

##### 登出组件

#### TokenComponent

### 五

#### LoginHelper增加获取服务列表逻辑

##### C2R\_GetServerInfoes

###### ClientSenderCompnent 在直连GateSession建立<br/>之后\(登录连接\)就可以直接调用Call通信，而不再需要纤程通信

##### C2R\_GetServerInfoHandler

###### 先通过TokenManager判断Token是否合法

###### 通过 ServerInfoManagerComponent获取服务器列表

####### Awake的时候通过 StartZoneConfigCategory\.Instance\.GetAll\(\);<br/>获取所有的Zong配置，ZoneType不为1的都放到列表里面

### 六

#### 从返回的服务器列表选一个，查询是否有角色<br/>在这个区服，如果没有就创建一个

##### C2R\_GetRoles

##### RoleInfo

### 七

#### 创建角色

##### C2R\_CreateRoleHandler

###### 检测同一个服务器不能有同名的

#### 删除角色

##### C2R\_DeleteRoleHandler

###### 只是把数据状态改成Freeze，并不做真正的删除<br/>冻结账号

#### 增加FiberInif\_logInCenter处理SceneType为LoginCenter的FiberInit处理

### 八

#### 细讲LoginCenter服务器

##### 跨区服务器

##### 这个服务器的意义就是为了给客户端一个LoginKey，用来连接Gate

#### LoginInfoRecordComponent

#### R2L\_LoginAccountRequestHandler

#### C2R\_GetRealmKey

### 九

#### R2G\_GetLoginKeyHandler

#### NetClient2Main\_LoginGame

#### C2G\_LoginGameGate

#### C2G\_EnterGame

#### 用LoginKey登录到Gate 然后再登录到Game服务

### 十

#### L2G\_AddLoginRecord

##### 通知登录中心服，记录本次登录的服务器zone

#### C2G\_LoginGameGateHandler

##### 创建玩家实体Player

###### 这时候Player的状态还是在Gate，但是还没传送到Game服务器的状态

#### PlayerOfflineOutTimeComponent

##### 定时踢玩家下线的组件

#### 登录到

### 十一

#### G2L\_AddLoginRecordHandler

##### LoginInfoRecordComponent 记录账号对应的服务区id
